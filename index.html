<html>
<head>
    <meta charset="utf-8" />
    <title>Sổ xố cuối năm</title>
    <style type="text/css">
        /* ---------------------------------------------------------------------
           ANIMATIONS
        --------------------------------------------------------------------- */

        @-webkit-keyframes winner {
            0%, 50%, 100% {
                -webkit-transform: rotate(0deg);
                font-size: 70px;
                color: #fff;
            }

            25% {
                -webkit-transform: rotate(20deg);
                font-size: 90px;
                color: #FF16D8;
            }

            75% {
                -webkit-transform: rotate(-20deg);
                font-size: 90px;
                color: #FF16D8;
            }
        }

        @-moz-keyframes winner {
            0%, 50%, 100% {
                -moz-transform: rotate(0deg);
                font-size: 70px;
                color: #fff;
            }

            25% {
                -moz-transform: rotate(20deg);
                font-size: 90px;
                color: #FF16D8;
            }

            75% {
                -moz-transform: rotate(-20deg);
                font-size: 90px;
                color: #FF16D8;
            }
        }

        @-ms-keyframes winner {
            0%, 50%, 100% {
                -ms-transform: rotate(0deg);
                font-size: 70px;
                color: #fff;
            }

            25% {
                -ms-transform: rotate(30deg);
                font-size: 90px;
                color: #FF16D8;
            }

            75% {
                -ms-transform: rotate(-30deg);
                font-size: 90px;
                color: #FF16D8;
            }
        }


        @-webkit-keyframes winnerBox {
            0%, 50%, 100% {
                box-shadow: inset 0 0 0px yellow;
                background-color: #FF0000;
            }

            25%, 75% {
                box-shadow: inset 0 0 30px yellow;
                background-color: aqua;
            }
        }

        @-moz-keyframes winnerBox {
            0%, 50%, 100% {
                box-shadow: inset 0 0 0px yellow;
                background-color: #FF0000;
            }

            25%, 75% {
                box-shadow: inset 0 0 30px yellow;
                background-color: aqua;
            }
        }

        @-ms-keyframes winnerBox {
            0%, 50%, 100% {
                box-shadow: inset 0 0 0px yellow;
                background-color: #FF0000;
            }

            25%, 75% {
                box-shadow: inset 0 0 30px yellow;
                background-color: aqua;
            }
        }


        * {
            margin: 0 0;
            padding: 0 0;
        }

        body {
            background: url(Images/bg.jpg) no-repeat center center fixed;
        }

        .w1000 {
            width: 1200px;
            margin: 0 auto;
        }

        .clear {
            clear: both;
            text-align: center;
        }

        .slotMachine,
        .slotFirst {
            width: 240px;
            height: 150px;
            padding: 0px;
            overflow: hidden;
            float: left;
            text-align: center;
            margin-bottom: 15px;
            /* border: 5px solid #000; */
            box-sizing: border-box;
        }

        .slot {
            height: 100%;
            font-size: 70px;
            font-family: fantasy;
            border: 2px solid #000;
            width: 150px;
            line-height: 150px;
            margin: 0 auto;
            border-radius: 50%;
            background-color: #ffffff;
            box-sizing: border-box;
            cursor: pointer;
        }

        a.start {
            display: inline-block;
            text-align: center;
            margin: 20px 0;
            cursor: pointer;
            clear: both;
        }

        h1 {
            text-align: center;
            color: #fff;
            font-weight: normal;
            text-transform: uppercase;
            margin: 10px 0 20px;
        }

        .logo {
            margin: 30px 0 15px;
            text-align: center;
        }

        .orange {
            color: #fef4e9;
            border: solid 1px #da7c0c;
            background: #f78d1d;
            background: -webkit-gradient(linear, left top, left bottom, from(#faa51a), to(#f47a20));
            background: -moz-linear-gradient(top, #faa51a, #f47a20);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#faa51a', endColorstr='#f47a20');
        }

        .blue {
            color: #d9eef7;
            border: solid 1px #0076a3;
            background: #0095cd;
            background: -webkit-gradient(linear, left top, left bottom, from(#00adee), to(#0078a5));
            background: -moz-linear-gradient(top, #00adee, #0078a5);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00adee', endColorstr='#0078a5');
        }

        .button {
            display: inline-block;
            zoom: 1;
            vertical-align: baseline;
            margin: 0 2px;
            outline: none;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            font: 14px/100% Arial, Helvetica, sans-serif;
            padding: .5em 2em .55em;
            text-shadow: 0 1px 1px rgba(0,0,0,.3);
            -webkit-border-radius: .5em;
            -moz-border-radius: .5em;
            border-radius: .5em;
            -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.2);
            -moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);
            box-shadow: 0 1px 2px rgba(0,0,0,.2);
        }

        i.icon-star {
            display: inline-block;
            background: url(Images/star.png) no-repeat center center;
            width: 48px;
            height: 48px;
        }

        h3 {
            text-align: center;
            font-size: 30px;
            text-transform: uppercase;
            margin: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #fff;
        }

        .winner {
            -webkit-animation: winnerBox 0.5s infinite linear;
            -moz-animation: winnerBox 0.5s infinite linear;
            -ms-animation: winnerBox 0.5s infinite linear;
            -webkit-animation: winner 0.5s infinite linear;
            -moz-animation: winner 0.5s infinite linear;
            -ms-animation: winner 0.5s infinite linear;
        }
    </style>
    <script type="text/javascript" src="Scripts/jquery.js"></script>
    <script type="text/javascript" src="Scripts/jquery.slotmachine.min.js"></script>
</head>
<body>
    <div class="slot-machine">
        <div class="w1000">
            <div class="logo">
                <img src="Images/logo_DKT_org.png" />
            </div>
            <div class="resul-1" style="text-align: center;">
                <h3><i class="icon-star winner"></i> Giải khuyến khích <i class="icon-star winner"></i></h3>
				<div style="display: inline-block;">
					<div id="machine1" class="slotMachine"></div>
					<div id="machine2" class="slotMachine"></div>
				</div>
                
                <div class="clear">
                    <a class="shuffle1 start button orange">Quay thưởng</a>
                </div>
            </div>

            <div class="resul-4" style="margin-bottom: 400px;">
                <h3><i class="icon-star winner"></i> Giải đặc biệt <i class="icon-star winner"></i></h3>
                <div class="slotFirst" style="visibility: hidden;">
                </div>
                <div id="machine40" class="slotFirst">
                    <div class="slot">0</div>
                    <div class="slot">1</div>
                    <div class="slot">2</div>
                    <div class="slot">3</div>
                </div>
                <div id="machine41" class="slotFirst">
                    <div class="slot">0</div>
                    <div class="slot">1</div>
                    <div class="slot">2</div>
                    <div class="slot">3</div>
                    <div class="slot">4</div>
                    <div class="slot">5</div>
                    <div class="slot">6</div>
                    <div class="slot">7</div>
                    <div class="slot">8</div>
                    <div class="slot">9</div>
                </div>
				<div id="machine42" class="slotFirst">
                    <div class="slot">0</div>
                    <div class="slot">1</div>
                    <div class="slot">2</div>
                    <div class="slot">3</div>
                    <div class="slot">4</div>
                    <div class="slot">5</div>
                    <div class="slot">6</div>
                    <div class="slot">7</div>
                    <div class="slot">8</div>
                    <div class="slot">9</div>
                </div>
                <div class="slotFirst" style="visibility: hidden;">
                </div>
                <div class="slotFirst" style="visibility: hidden;height: auto;">
                </div>
                <div class="slotFirst" style="height: auto;"><a class="shuffle11 stop button blue">Dừng</a></div>
                <div class="slotFirst" style="height: auto;"><a class="shuffle12 stop button blue">Dừng</a></div>
				<div class="slotFirst" style="height: auto;"><a class="shuffle13 stop button blue">Dừng</a></div>
                <div class="clear">
                    <a class="shuffle9 start button orange">Quay thưởng</a>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            var luckNumber = [];
            $(function () {
                $(".slotMachine").each(function () {
                    for (var i = 1; i < 399; i++) {
                        $(this).append("<div class='slot'>" + zeroPad(i, 10) + "</div>");
                    }
                });

                var machine1 = $("#machine1").slotMachine({
                    active: 0,
                    delay: 2000
                });

                var machine2 = $("#machine2").slotMachine({
                    active: 0,
                    delay: 2000
                });

                var machine40 = $("#machine40").slotMachine({
                    active: 0,
                    delay: 200,
                    direction: 'up'
                });

                var machine41 = $("#machine41").slotMachine({
                    active: 0,
                    delay: 200
                });
				
				var machine42 = $("#machine42").slotMachine({
                    active: 0,
                    delay: 200
                });

                function onComplete(active) {
                    var check = false;
                    var num = this.active;
                    //console.log(luckNumber);
                    luckNumber.forEach(function (number) {
                        if (parseInt(number) == parseInt(num)) {
                            check = true;
                        }
                    });
                    console.log(check);
                    if (!check) {
                        luckNumber.push(this.active);
                    }
                    else {
                        this.shuffle(1, onComplete);
                    }
                }

                $("a.shuffle1").click(function () {
                    machine1.shuffle(8, onComplete);

                    setTimeout(function () {
                        machine2.shuffle(8, onComplete);
                    }, 1000);

                    setTimeout(function () {
                        machine3.shuffle(8, onComplete);
                    }, 2000);
                });

				$("a.shuffle9").click(function () {
                    machine40.shuffle();
                    machine41.shuffle();
					machine42.shuffle();
                });
				
                $("a.shuffle11.stop").click(function () {
                    machine40.stop();
                });
                $("a.shuffle12.stop").click(function () {
                    machine41.stop();
                });
				$("a.shuffle13.stop").click(function () {
                    machine42.stop();
                });


                $("#machine1").click(function () {
                    machine1.shuffle(2, onComplete);
                });

                $("#machine2").click(function () {
                    machine2.shuffle(2, onComplete);
                });

            });

            function zeroPad(nr, base) {
                var len = (String(base).length - String(nr).length) + 1;
                return len > 0 ? new Array(len).join('0') + nr : nr;
            }
        </script>
    </div>
</body>
</html>